{% extends "world/world_view.html" %}

{% block content %}
    <div class="row">
    {% if object_list.count() == 0 %}No articles yet!{% else %}

    {% if groupby=='type' %}
        {% set groups = object_list|by_articletype %}
    {% elif groupby=='title' %}
        {% set groups = object_list|by_initials %}
    {% elif groupby=='time' %}
        {% set groups = object_list|by_time %}
    {% endif %}
    <dl>
        {% for group in groups %}
        <dt>{{ group.grouper|capitalize }}</dt>
        <dd><ul class="list-unstyled">
        {% for article in group.list %}
            <li><a href="{{ url_for('world.view_article', article_slug=article.slug, world_slug=world.slug) }}">{{article.title}}</a>
                {%- if groupby=='title' -%}
                    <small>{{" ["+article.type_name()+"]"}}</small>
                {%- elif groupby=='time' -%}
                    <small>{{" ["+article.created_date.strftime('%Y-%m-%d %H:%M')+"]"}}</small>
                {%- endif %}</li>
            {% endfor %}
        </ul></dd>
        {% endfor %}
    </dl>
    {% endif %}
    </div>
{% endblock %}
