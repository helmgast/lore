{% extends 'base_modal.html' %}

{% from 'includes/components.html' import FORM_FIELD %}

{% block content_title %}{{ _('Insert image') }}{% endblock %}

{% block content %}
<ul class="nav nav-tabs">
  <li class="active"><a href="#modalupload" data-toggle="tab">{{ _('Upload') }}</a></li>
  <li><a id="modalgallerylink" href="#modalgallery" data-toggle="tab">{{ _('Gallery') }}</a></li>
</ul>
<div class="tab-content">
  <div class="tab-pane active" id="modalupload">
    <form role="form" class="image-form" enctype="multipart/form-data" method="post" action="{{url_for('imageasset_new', out='json')}}">
      <div class="image-preview image-selected">
        <button type="button" class="close" aria-hidden="true"><span>&times;</span></button>
        <div class="image-container"></div>
      </div>
      <div class="form-group no-image-selected">
        <p class="help-block">{{ _('Drag or click to upload file') }}</p>
        <label for="imagefile" class="image-upload"><span class="glyphicon glyphicon-picture"></span></label>
        <input type="file" class="invisible" name="imagefile" id="imagefile" accept="image/*">
        <p class="help-block">... {{ _('or link to image online') }}</p>
        <input type="text" class="form-control" name="source_image_url" id="source_image_url" placeholder="http://">
      </div>
      <fieldset class="image-selected">
        {{ FORM_FIELD(imageasset_form.title, controlclass="image-title")}}
        {{ imageasset_form.csrf_token }}
        {{ FORM_FIELD(imageasset_form.description)}}
      </fieldset>
    </form>
  </div>
  <div class="tab-pane" id="modalgallery" data-remote="{{url_for('imageasset_list', out='fragment')}}">...</div>
</div>
<div class="form-inline image-selected">
  <input type="text" class="form-control" id="imgcaption" style="width: 60%">
  <div class="btn-group" data-toggle="buttons">
    <label class="btn btn-primary btn-sm active">
      <input type="radio" name="imgclass" id="normal" selected> Normal
    </label>
    <label class="btn btn-primary btn-sm">
      <input type="radio" name="imgclass" id="thumb"> Thumbnail
    </label>
    <label class="btn btn-primary btn-sm">
      <input type="radio" name="imgclass" id="gallery"> Gallery
    </label>
  </div>
</div>

{% endblock %}